Background
==========

.. _background:

Trapped-ion systems are a leading platform for quantum computing due to their long coherence times and high-fidelity operations. Laser beams are essential for initializing, controlling, and measuring qubit states in these systems. However, traditional optical setups are bulky and power-intensive, limiting scalability.

`Photonic integrated circuits <https://arxiv.org/abs/2210.03100>`_ (PICs) address many of these issues. These miniaturized components reduce complexity, footprint, and optical losses while supporting fast modulation at nanosecond timescales. To take full advantage of PICs, control electronics must support high-resolution waveform generation and synchronized voltage outputs.

This project build a control system capable of generating precisely timed signals with 100 MHz resolution across 32 synchronized channels. Such timing precision is critical for implementing accurate and scalable quantum gates.

Hardware Platform
-----------------

The system is built around the `Xilinx Zynq UltraScale+ ZCU102 <https://docs.amd.com/v/u/en-US/ug1182-zcu102-eval-bd>`_ :term:`FPGA` board, which integrates:

- **Processing System (PS)**: Quad-core ARM Cortex-A53 CPU for software control and coordination.
- **Programmable Logic (PL)**: High-speed logic and Block :term:`RAM` for waveform generation and I/O control.
- **Interfaces**: :term:`PMOD` and :term:`FMC` connectors allow connection to both low- and high-speed :term:`DAC`.

This architecture allows parallel and deterministic signal control with low latency, suitable for quantum experiments requiring microsecond-level synchronization.

This Python interface abstracts the hardware, enabling researchers to design and test pulse sequences programmatically.

.. _pdef:

Pulse Sequences
---------------

Quantum operations often require shaped optical pulses. A typical waveform consists of rise, sustain, and fall phases for stable and repeatable state transitions as in :numref:`waveform`. The pulse is generated by sampling a user-defined waveform data every 10 ns.

.. _waveform:
.. figure:: _static/diagrams/waveform.jpg
   :align: center

   Pulse shape: rise, sustain, and fall.

Mathematically, a pulse :math:`g(x)` based on waveform :math:`f(x)` is expressed as:

.. _mathdef:
.. math::

   g(x) = A \cdot 
   \begin{cases} 
   f\left(\dfrac{\alpha(x - S)}{T}\right), & S \leq x < S + \left\lceil \dfrac{T-1}{\alpha} \right\rceil, \\[8pt]
   f\left(\dfrac{T-1}{T}\right), & S + \left\lceil \dfrac{T-1}{\alpha} \right\rceil \leq x < S + \left\lceil \dfrac{T-1}{\alpha} \right\rceil + D, \\[8pt]
   f\left(\dfrac{\alpha\left(2\left\lceil \dfrac{T-1}{\alpha} \right\rceil + D - (x - S) - 1\right)}{T}\right), & S + \left\lceil \dfrac{T-1}{\alpha} \right\rceil + D \leq x < S + 2\left\lceil \dfrac{T-1}{\alpha} \right\rceil + D - 1, \\[8pt]
   0, & \text{otherwise}.
   \end{cases}

Here, :math:`S` is the :term:`start time`, :math:`T` the :term:`wave length`, :math:`\alpha` is the :term:`time factor`, :math:`D` the :term:`sustain` duration, and :math:`A` a :term:`gain factor`.

The start times between pulses must be at least 50ns apart. That is, the start time of the next pulse shuold be:

.. math::
    t_{\text{next pulse start time}} \geq t_\text{current pulse start time} + 2*\lceil(\frac{t_\text{current pulse length}}{t_\text{current pulse time factor}})\rceil + t_\text{current pulse sustain} + 50ns